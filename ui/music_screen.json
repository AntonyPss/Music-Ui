{
    "namespace": "music",

    /* Icons */
    "icon": {
        "type": "image",
        "layer": 1
    },

    "music@music.icon": {
        "texture": "textures/icons/music"
    },

    "close@music.icon": {
        "texture": "textures/icons/close_color"
    },

    "play@music.icon": {
        "texture": "textures/icons/play_color"
    },

    "stop@music.icon": {
        "texture": "textures/icons/stop_color"
    },

    "scroll_box@music.icon": {
        "texture": "textures/ui/scroll_box"
    },

    /* Buttons */
    "button@common.button": {
        "controls": [
            {
                "default@$default_content": {}
            },
            {
                "hover@$hover_content": {}
            },
            {
                "pressed@$pressed_content": {}
            }
        ]
    },

    /* Header Section */
    "header_title": {
        "type": "label",
        "text": "music.screen.title",
        "font_type": "MinecraftTen",
        "font_scale_factor": 1.1,
        "anchor_from": "center",
        "anchor_to": "center",
        "color": "$main_header_text_color"
    },

    "tooltip_toggle@common_toggles.light_ui_toggle": {
        "$toggle_view_binding_name": "tooltip_popup_toggle",
        "$button_type_panel": "common.empty_panel",
        "$toggle_name": "header_toggle_button",

        "$default_texture": "textures/icons/tooltip_color",
        "$hover_texture": "textures/icons/tooltip_color",
        "$pressed_texture": "textures/icons/tooltip_color",
        "$pressed_no_hover_texture": "textures/icons/tooltip_color",

        "$default_border_visible": false,
        "$hover_border_visible": false,

        "layer": 16,
        "size": [18, 18]
    },

    "about_toggle@common_toggles.light_ui_toggle": {
        "$toggle_view_binding_name": "about_popup_toggle",
        "$button_type_panel": "common.empty_panel",
        "$toggle_name": "header_toggle_button",

        "$default_texture": "textures/icons/about_color",
        "$hover_texture": "textures/icons/about_color",
        "$pressed_texture": "textures/icons/about_color",
        "$pressed_no_hover_texture": "textures/icons/about_color",

        "$default_border_visible": false,
        "$hover_border_visible": false,

        "layer": 16,
        "size": [18, 18]
    },

    "close_button@common_buttons.light_text_button": {
        "$pressed_button_name": "button.menu_exit",
        "$default_button_texture": "textures/icons/close_color",
        "$hover_button_texture": "textures/icons/close_color",
        "$pressed_button_texture": "textures/icons/close_color",
        "$border_visible": false,
        "size": [18, 18]
    },

    "header_section_panel": {
        "type": "image",
        "texture": "textures/ui/headerBar",
        "size": ["100%", 24],
        "controls": [
            {
                "header_title@music.header_title": {
                    "layer": 4,
                    "offset": [0, -1]
                }
            },
            {
                "about_toggle@music.about_toggle": {
                    "anchor_from": "right_middle",
                    "anchor_to": "right_middle",
                    "offset": [-40, 0]
                }
            },
            {
                "tooltip_toggle@music.tooltip_toggle": {
                    "anchor_from": "right_middle",
                    "anchor_to": "right_middle",
                    "offset": [-22, 0]
                }
            },
            {
                "close_button@music.close_button": {
                    "anchor_from": "right_middle",
                    "anchor_to": "right_middle",
                    "offset": [-4, 0]
                }
            }
        ]
    },

    /* Main Section  */
    "scrolling_section_base@common.scrolling_panel": {
        "$scroll_box_mouse_image_control": "music.scroll_box",
        "$scroll_bar_left_padding_size": [4, 0],
        "$scroll_bar_right_padding_size": [4, 0],
        "$scroll_size": [6, "100% - 4px"],

        "$scrolling_pane_offset": [2, 0],

        "$show_background": false,
        "layer": 6,
        "size": ["100%", "100%"]
    },

    "main_section_panel": {
        "type": "image",
        "texture": "textures/ui/contentBackground",
        "size": ["100%", "fill"],
        "controls": [
            {
                "main_section_content": {
                    "type": "input_panel",
                    "size": ["100% - 4px", "100% - 4px"],
                    "controls": [
                        {
                            /* Main Section List */
                            "main_section@music.scrolling_section_base": {
                                "$scrolling_content": "music_list.main_list_content",
                                "bindings": [
                                    {
                                        "binding_type": "view",
                                        "source_control_name": "main_section_toggle",
                                        "source_property_name": "#toggle_state",
                                        "target_property_name": "#visible"
                                    }
                                ]
                            }
                        },
                        {
                            /* Custom Section List */
                            "custom_section@music.scrolling_section_base": {
                                "$scrolling_content": "music_list.custom_list_content",
                                "bindings": [
                                    {
                                        "binding_type": "view",
                                        "source_control_name": "custom_section_toggle",
                                        "source_property_name": "#toggle_state",
                                        "target_property_name": "#visible"
                                    }
                                ]
                            }
                        }
                    ]
                }
            }
        ]
    },

    /* Footer Section */
    "tab_section_wrapper": {
        "type": "label",
        "text": "$toggle_text",
        "layer": 3,
        "color": "$main_header_text_color"
    },

    "tab_section_toggle@settings_common.section_toggle_base": {
        "anchor_from": "$toggle_anchor",
        "anchor_to": "$toggle_anchor",

        "$button_type_panel": "music.tab_section_wrapper",
        "$toggle_name": "tab_section_toggle",

        "$default_texture": "textures/buttons/normal",
        "$hover_texture": "textures/buttons/hover",
        "$pressed_texture": "textures/buttons/pressed",
        "$pressed_no_hover_texture": "textures/buttons/hover",

        "$default_border_visible": false,
        "$hover_border_visible": false,
        "size": ["50% - 4px", 24],
        "offset": "$toggle_offset"
    },

    "footer_section_panel": {
        "type": "image",
        "texture": "textures/ui/footerBar",
        "size": ["100%", 32],
        "controls": [
            {
                /* Main Section Tab */
                "main_section_tab@music.tab_section_toggle": {
                    "$toggle_view_binding_name": "main_section_toggle",
                    "$toggle_group_forced_index": 0,
                    "$toggle_text": "music.tabSection.main",
                    "$toggle_anchor": "left_middle",
                    "$toggle_offset": [4, 0]
                }
            },
            {
                /* Custom Section Tab */
                "custom_section_tab@music.tab_section_toggle": {
                    "$toggle_view_binding_name": "custom_section_toggle",
                    "$toggle_group_forced_index": 1,
                    "$toggle_text": "music.tabSection.custom",
                    "$toggle_anchor": "right_middle",
                    "$toggle_offset": [-4, 0]
                }
            }
        ]
    },

    /* Track Item */
    "media_hover_wrapper": {
        "type": "panel",
        "layer": 16,
        "size": ["100%", "100%"],
        "controls": [
            {
                "hover_bg": {
                    "type": "image",
                    "texture": "textures/ui/hud_tip_text_background",
                    "anchor_from": "center",
                    "anchor_to": "center",
                    "size": ["100%c + 6px", "100%c + 2px"],
                    "offset": [10, -14],
                    "alpha": 0.5,
                    "controls": [
                        {
                            "hover_text": {
                                "type": "label",
                                "text": "$hover_text",
                                "font_type": "smooth",
                                "font_scale_factor": 0.8,
                                "color": "$main_header_text_color",
                                "anchor_from": "center",
                                "anchor_to": "center"
                            }
                        }
                    ]
                }
            },
            {
                "hover_icon@$hover_icon": {
                    "anchor_from": "center",
                    "anchor_to": "center"
                }
            }
        ]
    },

    "media_button@music.button": {
        "sound_name": "$songAudio",
        "sound_volume": "$soundVolume",
        "sound_pitch": 1.0,
        "anchor_from": "$button_anchor",
        "anchor_to": "$button_anchor",
        "size": ["100%y", "100% - 8px"],
        "$songAudio|default": "random.click", // Default audio if none provided
        "$hover_content": "music.media_hover_wrapper",
        "layer": 4,
        "button_mappings": [
            {
                "from_button_id": "button.menu_select",
                "to_button_id": "$pressed_button_name",
                "mapping_type": "pressed"
            },
            {
                "from_button_id": "button.menu_ok",
                "to_button_id": "$pressed_button_name",
                "mapping_type": "focused"
            }
        ]
    },

    "track_item_label": {
        "type": "label",
        "color": "$main_header_text_color",
        "font_scale_factor": 0.9,
        "anchor_from": "$item_anchor",
        "anchor_to": "$item_anchor",
        "layer": 3,
        "shadow": true,
        "size": ["100%", 10]
    },

    "duration_label_wrapper@music.icon": {
        "texture": "textures/ui/hud_tip_text_background",
        "layer": 3,
        "alpha": 0.4,
        "size": ["100%c + 6px", "100%c + 4px"],
        "controls": [
            {
                "duration_label@music.track_item_label": {
                    "text": "$songDuration",
                    "$itemAnchor": "center",
                    "layer": 4,
                    "size": ["default", "default"]
                }
            }
        ]
    },

    "track_item_button@music.icon": {
        "texture": "$trackItemTexture",
        "$trackItemTexture|default": "textures/ui/trackBackground"
    },

    "track_item_common": {
        "type": "input_panel",
        "size": ["100% - 3px", "100%cm"],
        "controls": [
            {
                "track_item_button@common.button": {
                    "$pressed_button_name": "button.track",
                    "size": ["100%", "100%sm + 8px"],
                    "controls": [
                        {
                            "default@music.track_item_button": {}
                        },
                        {
                            "hover@music.track_item_button": {
                                "$trackItemTexture": "textures/ui/trackBackgroundHover"
                            }
                        },
                        {
                            "pressed@music.track_item_button": {}
                        }
                    ]
                }
            },
            {
                "track_item_content": {
                    "type": "stack_panel",
                    "size": ["100% - 8px", "100%c"],
                    "controls": [
                        {
                            "track_item_header@music.track_item_button": {
                                "layer": 3,
                                "size": ["100%", "100%x"],
                                "controls": [
                                    {
                                        "track_item_cover@music.icon": {
                                            "texture": "$songCover",
                                            "layer": 4,
                                            "size": ["100% - 2px", "100% - 2px"]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "track_item_labels": {
                                "type": "panel",
                                "size": ["100%", 22],
                                "controls": [
                                    {
                                        "track_item_name@music.track_item_label": {
                                            "text": "$songName",
                                            "font_type": "MinecraftTen",
                                            "$item_anchor": "top_left"
                                        }
                                    },
                                    {
                                        "track_item_artist@music.track_item_label": {
                                            "text": "$songArtist",
                                            "$item_anchor": "bottom_left"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "track_item_controls": {
                                "type": "panel",
                                "size": ["100%", 24],
                                "controls": [
                                    {
                                        "play_button@music.media_button": {
                                            "$pressed_button_name": "button.play",
                                            "$soundVolume": 1.0,
                                            "$button_anchor": "left_middle",
                                            "$default_content": "music.play",
                                            "$hover_icon": "music.play",
                                            "$hover_text": "card.play.hoverButton",
                                            "$pressed_content": "music.play"
                                        }
                                    },
                                    {
                                        "duration_label@music.duration_label_wrapper": {
                                            "anchor_from": "center",
                                            "anchor_to": "center"
                                        }
                                    },
                                    {
                                        "stop_button@music.media_button": {
                                            "$pressed_button_name": "button.stop",
                                            "$soundVolume": 0.0000000000000001,
                                            "$button_anchor": "right_middle",
                                            "$default_content": "music.stop",
                                            "$hover_icon": "music.stop",
                                            "$hover_text": "card.stop.hoverButton",
                                            "$pressed_content": "music.stop"
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            }
        ]
    },

    /* Music Screen Panel */
    "music_screen_panel": {
        "type": "stack_panel",
        "size": "$music_screen_size",
        "ttsSectionContainer": true,
        "$default_selector_toggle_index": 0,
        "controls": [
            { "header_section@music.header_section_panel": {} },
            { "main_section@music.main_section_panel": {} },
            { "footer_section@music.footer_section_panel": {} }
        ]
    },

    /* About Section */
    "about_popup_container": {
        "type": "input_panel",
        "size": ["100%", "100%"],
        "bindings": [
            {
                "binding_type": "view",
                "source_control_name": "about_popup_toggle",
                "source_property_name": "#toggle_state",
                "target_property_name": "#visible"
            }
        ],
        "controls": [
            {
                "background@common.screen_background": {
                    "size": "$music_screen_size",
                    "layer": 97
                }
            },
            {
                "popup_background": {
                    "type": "image",
                    "texture": "textures/ui/popupBackground",
                    "layer": 98,
                    "size": [240, "100%c + 8px"],
                    "controls": [
                        {
                            "popup_content": {
                                "type": "stack_panel",
                                "layer": 99,
                                "size": ["100% - 8px", "100%c"],
                                "controls": [
                                    {
                                        "title_panel": {
                                            "type": "panel",
                                            "size": ["100%", "100%c + 8px"],
                                            "controls": [
                                                {
                                                    "title_text": {
                                                        "type": "label",
                                                        "text": "music.aboutSection.title",
                                                        "color": "$main_header_text_color",
                                                        "font_type": "MinecraftTen"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "about_text_panel": {
                                            "type": "panel",
                                            "size": ["100%", "100%c + 8px"],
                                            "controls": [
                                                {
                                                    "about_copyright_text@music.general_label": {
                                                        "text": "music.aboutSection.text",
                                                        "color": "$main_header_text_color",
                                                        "text_alignment": "center",
                                                        "anchor_from": "center",
                                                        "anchor_to": "center"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "about_creator_panel": {
                                            "type": "panel",
                                            "size": ["100%", 20],
                                            "controls": [
                                                {
                                                    "about_creator_label@music.general_label": {
                                                        "text": "music.aboutSection.creator",
                                                        "color": "$main_header_text_color",
                                                        "text_alignment": "center",
                                                        "anchor_from": "top_middle",
                                                        "anchor_to": "top_middle"
                                                    }
                                                },
                                                {
                                                    "about_creator_text@music.general_label": {
                                                        "text": "@AntonyPss",
                                                        "text_alignment": "center",
                                                        "anchor_from": "bottom_middle",
                                                        "anchor_to": "bottom_middle"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "padding_offset": {
                                            "type": "panel",
                                            "size": [0, 4]
                                        }
                                    },
                                    {
                                        "about_pack_panel": {
                                            "type": "panel",
                                            "size": ["100%", 20],
                                            "controls": [
                                                {
                                                    "about_pack_label@music.general_label": {
                                                        "text": "music.aboutSection.pack",
                                                        "text_alignment": "center",
                                                        "color": "$main_header_text_color",
                                                        "anchor_from": "top_middle",
                                                        "anchor_to": "top_middle"
                                                    }
                                                },
                                                {
                                                    "about_pack_text@music.general_label": {
                                                        "text": "v2.3.0",
                                                        "text_alignment": "center",
                                                        "anchor_from": "bottom_middle",
                                                        "anchor_to": "bottom_middle"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "about_copyright_panel": {
                                            "type": "panel",
                                            "size": ["100%", "100%c + 16px"],
                                            "controls": [
                                                {
                                                    "about_copyright_text@music.general_label": {
                                                        "text": "music.aboutSection.copyright",
                                                        "text_alignment": "center",
                                                        "anchor_from": "center",
                                                        "anchor_to": "center",
                                                        "color": [
                                                            0.7, 0.7, 0.7, 1
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            }
        ]
    },

    /* Tooltip Section */
    "general_label": {
        "type": "label",
        "color": [0.85, 0.85, 0.85, 1],
        "size": ["100%", "default"]
    },

    "tooltip_popup_container": {
        "type": "input_panel",
        "size": ["100%", "100%"],
        "bindings": [
            {
                "binding_type": "view",
                "source_control_name": "tooltip_popup_toggle",
                "source_property_name": "#toggle_state",
                "target_property_name": "#visible"
            }
        ],
        "controls": [
            {
                "background@common.screen_background": {
                    "size": "$music_screen_size",
                    "layer": 97
                }
            },
            {
                "popup_background": {
                    "type": "image",
                    "texture": "textures/ui/popupBackground",
                    "layer": 98,
                    "size": [210, "100%c + 8px"],
                    "controls": [
                        {
                            "popup_content": {
                                "type": "stack_panel",
                                "layer": 99,
                                "size": ["100% - 8px", "100%c"],
                                "controls": [
                                    {
                                        "title_panel": {
                                            "type": "panel",
                                            "size": ["100%", "100%c + 8px"],
                                            "controls": [
                                                {
                                                    "title_text": {
                                                        "type": "label",
                                                        "text": "music.tooltip.title",
                                                        "color": "$main_header_text_color",
                                                        "font_type": "MinecraftTen"
                                                    }
                                                }
                                            ]
                                        }
                                    },

                                    {
                                        "tooltip_text_panel": {
                                            "type": "panel",
                                            "size": ["100%", "100%c + 8px"],
                                            "controls": [
                                                {
                                                    "tooltip_text@music.general_label": {
                                                        "text": "music.tooltip.text",
                                                        "color": "$main_header_text_color",
                                                        "text_alignment": "center",
                                                        "anchor_from": "center",
                                                        "anchor_to": "center"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "path_box_wrapper": {
                                            "type": "panel",
                                            "size": ["100%", "100%c + 4px"],
                                            "controls": [
                                                {
                                                    "path_bg": {
                                                        "type": "image",
                                                        "texture": "textures/ui/Black",
                                                        "size": [
                                                            "100%sm + 12px",
                                                            20
                                                        ],
                                                        "alpha": 0.4,
                                                        "anchor_from": "center",
                                                        "anchor_to": "center"
                                                    }
                                                },
                                                {
                                                    "path_label@music.general_label": {
                                                        "text": "MusicUI/Sounds/Music/track1.ogg",
                                                        "anchor_from": "center",
                                                        "anchor_to": "center",
                                                        "layer": 5,
                                                        "color": "$main_header_text_color",
                                                        "size": [
                                                            "100% - 12px",
                                                            "default"
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "tips_label_panel": {
                                            "type": "stack_panel",
                                            "controls": [
                                                {
                                                    "tip1@music.general_label": {
                                                        "text": "music.tooltip.tip1"
                                                    }
                                                },

                                                {
                                                    "tip2@music.general_label": {
                                                        "text": "music.tooltip.tip2"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            }
        ]
    },

    /* Music Screen Content */
    "music_screen_content": {
        "type": "panel",
        "controls": [
            { "music_screen_panel@music.music_screen_panel": { "layer": 4 } },
            { "about_popup@music.about_popup_container": { "layer": 9 } },
            { "tooltip_popup@music.tooltip_popup_container": { "layer": 6 } }
        ],
        "variables": [
            {
                "requires": "($desktop_screen or $win10_edition)",
                "$music_screen_size": [340, 220]
            },
            {
                "requires": "($touch or $pocket_screen and $pocket_edition)",
                "$music_screen_size": [320, 220]
            }
        ]
    },

    /* Menu Music Button */
    "menu_music_button@music.button": {
        "$pressed_button_name": "button.menu_buy_game",
        "$default_content": "music.music",
        "$hover_content": "music.music",
        "$pressed_content": "music.music",
        "size": [24, 24]
    }
}
